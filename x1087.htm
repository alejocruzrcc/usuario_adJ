<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Configuración y uso de programas y servicios básicos</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
HREF="t1.htm"><LINK
REL="PREVIOUS"
TITLE="Paquetes y portes"
HREF="x570.htm"><LINK
REL="NEXT"
TITLE="Configuración y uso de algunas aplicaciones"
HREF="x1227.htm"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x570.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1227.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="configuracion-de-componentes-basicos"
>Configuración y uso de programas y servicios básicos</A
></H1
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="pdksh"
>pdksh (ksh)</A
></H2
><P
> Es un interprete de comandos similar a
	<B
CLASS="command"
>bash</B
>. Este interprete de comandos al iniciarse 
	como interprete de login lee los archivos 
	<TT
CLASS="filename"
>/etc/profile</TT
> y 
	<TT
CLASS="filename"
>$HOME/.profile</TT
>, pero no lo hace si es
	iniciado como interprete interactivo.  Puede iniciarse
	explícitamente como interprete de login con <B
CLASS="command"
>ksh -l</B
>.
	Esto puede resultar útil para iniciarlo por ejemplo dentro de
	<B
CLASS="command"
>xterm</B
>:
	  <PRE
CLASS="screen"
>&#13;	xterm -en utf8 -e /bin/ksh -l </PRE
>
     </P
><P
>&#13;	El método de edición (<TT
CLASS="literal"
>vi</TT
>,<TT
CLASS="literal"
>emacs</TT
> o 
	<TT
CLASS="literal"
>gmacs</TT
>) se configura en la variable 
	<TT
CLASS="literal"
>VISUAL</TT
>.
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="ftp"
>ftp</A
></H2
><P
>Además de las características usuales de un cliente 
	      <B
CLASS="command"
>ftp</B
>
	      (RFC 959, extendido en RFC 1123), el cliente 
	      <B
CLASS="command"
>ftp</B
> de OpenBSD:
      <P
></P
><UL
><LI
><P
>Realiza conexiones pasivas por defecto. Sin embargo algunos 
	    servidores de ftp requiere conexiones activas, si ese es el caso 
	    (por ejemplo cuando el servidor responde a <TT
CLASS="literal"
>ls</TT
>
	    con <TT
CLASS="literal"
>425 Can't open data connection</TT
>) emplee 
	    la opción <CODE
CLASS="option"
>-A</CODE
>.
	    
	  </P
></LI
><LI
><P
>Emplea el archivo de configuración
	    <TT
CLASS="filename"
>~/.netrc</TT
> para establecer conexiones
	    automáticamente.  En ese archivo usted puede especificar 
	    servidores a los que suele conectarse (y por ejemplo emplear
	    redireccionamiento para automatizar operaciones .  Este archivo puede tener comentarios
	    (líneas iniciadas con el caracter '#') o líneas como:
	    <PRE
CLASS="screen"
>&#13;	machine Jesus.miescuela.edu.co login pablo
	machine rt.fm login anonymous passwd pablo@miescuela.edu.co
	    </PRE
>
	    que indican emplear el usuario pablo al conectarse a Jesus.miescuela.edu.co
	    (pedirá la clave al hacer la conexión) y emplear el usuario
	    <TT
CLASS="literal"
>anonymous</TT
>, con clave 
	    <TT
CLASS="literal"
>pablo@miescuela.edu.co</TT
> al hacer conexiones con
	    <TT
CLASS="literal"
>rt.fm</TT
>.
	    <DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Aviso</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>Las claves que se almacenan en este archivo son
	      textos planos que el superusuario del sistema podría ver.
	      Para que otros usuarios no puedan verlas quite el permiso
	      de lectura para otros usuarios y para el grupo:
	      <PRE
CLASS="screen"
>&#13;	chmod og-r ~/.netrc
	      </PRE
>
	      .</P
></TD
></TR
></TABLE
></DIV
></P
></LI
><LI
><P
>Permite especificar el URL (iniciado con 
	      <TT
CLASS="literal"
>http://</TT
> o <TT
CLASS="literal"
>ftp://</TT
>) de
	      un archivo por descargar en la línea de comandos (y 
	      realiza autenticación automática si es ftp:// y se ha 
	      configurado <TT
CLASS="filename"
>~/.netrc</TT
>, o si el URL
	      es análogo a
	      <TT
CLASS="literal"
>ftp://pablo:miclave@Jesus.miescuela.edu.co/pub/doc.txt</TT
>).  
	      En este caso si se requiere puede emplearse la opción 
	      <CODE
CLASS="option"
>-o</CODE
> seguida del nombre del archivo con el 
	      que se desea salvar el archivo transmitido.  También puede
	      emplearse <TT
CLASS="literal"
>*</TT
> para indicar transmisión de 
	      varios archivos.
	    </P
></LI
></UL
>
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="sudo"
>sudo</A
></H2
><P
> Este programa permite ejecutar comandos privilegiados a
	algunos usuarios.  Se configura en
	<TT
CLASS="filename"
>/etc/sudoers</TT
> que debe editarse con
	<B
CLASS="command"
>visudo</B
>.
	</P
><P
> Consulte los ejemplos allí presentados
	en líneas con comentarios y quite el comentario a la configuración
	que considere apropiada.  Por ejemplo si desea que todo usuario
	que esté en el grupo <TT
CLASS="literal"
>wheel</TT
> pueda emplear 
	<B
CLASS="command"
>sudo</B
> sin necesidad de ingresar una clave,
	quite el comentario a la línea:
	<PRE
CLASS="screen"
>&#13;	%wheel  ALL=(ALL)       NOPASSWD: ALL
	</PRE
>
      </P
><P
>Una vez configurado, para ejecutar un comando privilegiado
	desde una cuenta configurada se usa
	<B
CLASS="command"
>sudo <TT
CLASS="replaceable"
><I
>comando</I
></TT
></B
>.
	Por ejemplo:
	<PRE
CLASS="screen"
>&#13;	sudo vi /etc/rc.conf.local </PRE
>
	o formatear un disquete y marcar zonas con errores con:
	<PRE
CLASS="screen"
>&#13;	sudo mformat a:
	sudo mbadblocks a:</PRE
>
      </P
><P
>&#13;	Puede verse en <A
HREF="http://rr.sans.org/authentic/sudo.php"
TARGET="_top"
>&#13;	  http://rr.sans.org/authentic/sudo.php</A
> interacción 
	entre <B
CLASS="command"
>sudo</B
> y <B
CLASS="command"
>ssh</B
> para 
	administrar una red.
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="cron"
><TT
CLASS="literal"
>cron</TT
>: para programar tareas</A
></H2
><P
>El programa <TT
CLASS="literal"
>cron</TT
>  ejecuta tareas
		configuradas para correr en cierto(s) momento(s).
		Este servico debe correr permanentemente.
		Puede comprar que opera con <B
CLASS="command"
>pgrep cron</B
> que
		debe responder con el número del proceso.  Si no está
		corriendo debe ejecutarlo urgentemente bien reiniciando el
		servido o ejecutando <TT
CLASS="literal"
>sudo cron</TT
>.
	</P
><P
>Cada minuto el programa <TT
CLASS="literal"
>cron</TT
> busca
		tareas cuya ejecución esté pendiente.  
       	</P
><P
>&#13;      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="ld"
>ld</A
></H2
><P
><B
CLASS="command"
>ld</B
> es el programa que carga otros programas
	junto con las librerías compartidas que requieran y resuelve los
	símbolos.  Para buscar librerías compartidas emplea la información
	de <TT
CLASS="filename"
>/var/run/ld.so.hints</TT
> (que puede examinarse
	con <B
CLASS="command"
>ldconfig -r</B
>).</P
><P
>Con <TT
CLASS="literal"
>ldd</TT
> pueden examinarse las librerías
	compartidas que un programa requiere, por ejemplo:
	<PRE
CLASS="screen"
>&#13;	ldd /usr/bin/less
	</PRE
>
      </P
><P
>Cuando se agregan librerías
	compartidas o se requiere que las librerias de nuevos directorios 
	sean referenciados en <TT
CLASS="filename"
>/var/run/ld.so.hints</TT
> puede 
	ejecutar <B
CLASS="command"
>ldconfig</B
> (que por defecto busca nuevas
	librerías en <TT
CLASS="filename"
>/usr/lib</TT
>).  Por ejemplo durante 
	el arranque en un sistema con X-Window se ejecuta:
	<PRE
CLASS="screen"
>&#13;	ldconfig /usr/local/lib /usr/X11R6/lib
	</PRE
>
	También pueden especificarse otros directorios por usar durante el
	arranque definiendo la variable <CODE
CLASS="varname"
>shlib_dirs</CODE
> en
	<TT
CLASS="filename"
>/etc/rc.conf.local</TT
> (ver <A
HREF="x46.htm#inicio-del-sistema"
>la sección de nombre <I
>Inicio del sistema</I
></A
>)
      </P
><P
>Incluso un usuario puede establecer otros directorios donde
	      buscar librerías compartidas especificandolos en la variable de
	      entorno <TT
CLASS="literal"
>LD_LIBRARY_PATH</TT
> (separar un directorio
	      de otro con ':' ).
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="kernel"
>Kernel</A
></H2
><P
>Algunas configuraciones pueden hacerse con 
	      <B
CLASS="command"
>sysctl</B
>, otras MUY inusuales requieren 
	      recompilación del kernel.
      </P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="compilacion-del-kernel"
>Compilación del kernel</A
></H3
><P
>Puede sacar las fuentes del CD de instalación o
		de un repositorio FTP (<TT
CLASS="filename"
>src.tgz</TT
>)
	  descomprimiendolas en <TT
CLASS="filename"
>/usr/src</TT
>, después
	  puede actualizarlas con el CVS de OpenBSD con:
	  <PRE
CLASS="screen"
>&#13;	cd /usr
	export CVSROOT=anoncvs@anoncvs.de.openbsd.org:/cvs
	cvs -z3 co -rOPENBSD_5_7 -P src </PRE
>
	empleando un espejo más cercano a su computador y cambiado
	OPENBSD_5_7 por la versión que desea actualizar, 
	o si las fuentes que tiene son la versión que desea puede emplear:
	<PRE
CLASS="screen"
>&#13;	cd /usr/src
	export CVSROOT=anoncvs@anoncvs.de.openbsd.org:/cvs
	cvs -z3 update -r OPENBSD_5_7 -Pd </PRE
>
	</P
><P
>Tal como se describe en <B
CLASS="command"
>man afterboot</B
>,
	  para compilar basta editar el archivo de configuración del
	  kernel que se desea, después ejecutar 
	  <B
CLASS="command"
>config</B
>, cambiar al directorio donde se
	  compila y compilar.  Por ejemplo:
	  <PRE
CLASS="screen"
>&#13;	cd /usr/src/sys/arch/amd64/conf
	vi GENERIC
	config GENERIC
	cd ../compile/GENERIC
	make clean
	make depend
	make
	  </PRE
>
	  con esto se generará el ejecutable <TT
CLASS="filename"
>bsd</TT
> en
	  el directorio de compilación, tal ejecutable puede usarse para 
	  reemplazar
	  <TT
CLASS="filename"
>/bsd</TT
>, eventualmente dejando el kernel
	  anterior listo para un arranque de emergencia:
	  <PRE
CLASS="screen"
>&#13;	mv /bsd /bsd.old
	mv bsd /bsd
	  </PRE
>
	</P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="syslog"
>syslog</A
></H2
><P
><B
CLASS="command"
>syslogd</B
> es un servidor que recibe mensajes
    de depuración y trazas de diversos programas.
    Su archivo de configuración es <TT
CLASS="filename"
>/etc/syslog.conf</TT
>,
    cada línea de este archivo especifica que hacer con los mensajes
    recibidos por uno o más programas.
  </P
><P
>Tras modificar <TT
CLASS="filename"
>/etc/syslog.conf</TT
> puede
    obligarse a <B
CLASS="command"
>syslogd</B
> a leerlo de nuevo enviado
    la señal HUP, por ejemplo: <PRE
CLASS="screen"
>&#13;# ps ax | grep syslogd
7723 ??  Is      0:00.06 syslogd 
# kill -HUP 7723
    </PRE
>
  </P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="referencias-syslog"
>Referencias y lecturas recomendadas</A
></H3
><P
>&#13;      Las siguientes páginas man:
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>syslog.conf</SPAN
>(8)</SPAN
>,
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>syslog</SPAN
>(3)</SPAN
>,
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>syslogd</SPAN
>(8)</SPAN
> y
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>logger</SPAN
>(1)</SPAN
>.
    </P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="zona-horaria"
>Zona Horaria</A
></H2
><P
>&#13;	    La zona horaria se establece enlazando 
	    <TT
CLASS="filename"
>/etc/localtime</TT
> con una de las zonas del 
	    directorio <TT
CLASS="filename"
>/usr/share/zoneinfo</TT
>, por ejemplo
	    <PRE
CLASS="screen"
>&#13;sudo ln -s /usr/share/zoneinfo/America/Bogota /etc/localtime
	    </PRE
>
	</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x570.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t1.htm"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1227.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Paquetes y portes</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Configuración y uso de algunas aplicaciones</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>